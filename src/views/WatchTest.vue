<template>
  <div class="hello">
    <h2>{{ msg }}</h2>
    <p>
      ê¸°ì¡´ ë°ì´í„°ê°€ ë³€ê²½ëì„ ë•Œ ì–´ë–¤ ì²˜ë¦¬ë¥¼ í•´ì•¼ í•  ê²½ìš°,
      ì‰½ê²Œ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ `watch` ë¼ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.
    </p>
    <a href="https://negabaro.github.io/archive/vuejs-watch">ì°¸ê³  watch ì‚¬ìš©ë²•</a><br>
    <a href="https://github.com/vuejs/vue/issues/2164">ì´ìŠˆ ë°œìƒ í† ë¡ </a>
    <p>1. ë‹¨ì¼ ë°ì´í„°ì˜ ë³€ê²½ ê°ì§€ í…ŒìŠ¤íŠ¸</p>
    <div>
      <input v-model="param" placeholder="ë‹¨ì¼ param"/><br>
    </div>
    <p>2. ë³µìˆ˜ ë° Object Type Sub ë°ì´í„°ì˜ ë³€ê²½ ê°ì§€ í…ŒìŠ¤íŠ¸</p>  
    <div>
      <input v-model="params.name" placeholder="name"/><br>
      <input v-model="params.age" placeholder="age"/>
    </div>
  </div>
</template>
<script>
export default {
  name: 'WatchTest',
  props: {
    msg: String
  },
  data() {
    return {
      param:'',
      params:{
        name:'',
        age:'',
      },
    }
  },
  watch: {
    /* watchì˜ ê¸°ë³¸ê¸°ëŠ¥, paramì´ ë³€ê²½ë  ë•Œ ë§ˆë‹¤ ì•„ë˜ì˜ í•¨ìˆ˜ê°€ ì‹¤í–‰ëœë‹¤. */
    param(newParam, oldParam) {
      console.log("ğŸš€ ~ file: TestTest.vue ~ line 25 ~ param ~ newParam, oldParam", newParam, oldParam)
    },

    /* ìœ„ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ë³µìˆ˜ íŒŒë¼ë¯¸í„°ì˜ watchëŠ” ë™ì‘ì•ˆí•¨ */
    // params(newParams, oldParams) {
    //   console.log("ğŸš€ ~ file: TestTest.vue ~ line 34 ~ params ~ newParams, oldParams", newParams, oldParams)
    // },

    /*
      object ìœ¼ë¡œ wrap ëœ ë³µìˆ˜ì˜ íŒŒë¼ë¯¸í„°ì— ëŒ€í•´ì„œ nested í•œ ê°’ì„ watch í•˜ëŠ”ë° 
      vueì˜ ê³µì‹ë¬¸ì„œëŠ” deep ì˜µì…˜ì„ ì œì•ˆí•˜ê³  ìˆìŒ. 
      í•˜ì§€ë§Œ new,old ë°ì´í„°ì˜ ì°¨ì´ê°€ ì—†ë‹¤. ë²„ê·¸ì¸ì§€ëŠ” ì˜ ëª¨ë¥´ê² ìŒ.
    */
    /* params: {
      handler(newParams, oldParams) {
        console.log("ğŸš€ ~ file: TestTest.vue ~ line 34 ~ params ~ newParams, oldParams", newParams.name, oldParams.name);
      },
      deep:true,
    }, */

    /**
     * ìœ„ì™€ ê°™ì€ ê²½ìš° computed ë¥¼ í™œìš©í•´ì„œ ë³€ê²½ ë°ì´í„°ì˜ ì°¨ì´ë¥¼ ê¸°ëŒ€í•  ìˆ˜ ìˆìŒ.
     * 
     */
    computedParams: {
      handler(newParam, oldParam){
        console.log("ğŸš€ ~ file: TestTest.vue ~ line 61 ~ handler ~ newParam, oldParam", newParam.name, oldParam.name);
      },
      deep:true,
    },
  },
  computed: {
    computedParams: function() {
      return Object.assign({}, this.params);
    }
  },
}
</script>
<style scoped>
</style>
